.image-with-text {
  padding: 30px 0;

  .grid {
    margin-bottom: 0;
  }

  .grid__item {
    position: relative;

    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
  }

  .image-with-text__content {
    align-items: flex-start;
    display: flex;
    flex-direction: column;
    height: 100%;
    justify-content: center;
    align-self: center;
    padding: 4rem calc(4rem / var(--global-font-body-scale)) 5rem;
    position: relative;
    z-index: 1;

    > * + * {
      margin-top: 2rem;
    }

    > .image-with-text__text:empty ~ a {
      margin-top: 2rem;
    }
  }

  @media screen and (min-width: 990px) {
    .image-with-text__content {
      padding: 6rem 7rem 7rem;
    }
  }
}

.image-with-text__media {
  min-height: 100%;
  overflow: visible;

  &.image-with-text__media--small {
    height: 19.4rem;
  }

  &.image-with-text__media--medium {
    height: 29.6rem;
  }

  &.image-with-text__media--large {
    height: 43.5rem;
  }

  @media screen and (min-width: 750px) {
    &.image-with-text__media--small {
      height: 31.4rem;
    }

    &.image-with-text__media--medium {
      height: 46rem;
    }

    &.image-with-text__media--large {
      height: 69.5rem;
    }
  }
}

.image-with-text__media--placeholder {
  position: relative;
  overflow: hidden;

  &:after {
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: rgba(var(--color-foreground), 0.04);
  }

  > svg {
    position: absolute;
    left: 50%;
    max-width: 80rem;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    fill: currentColor;
  }
}

/* check for flexbox gap in older Safari versions */
@supports not (inset: 10px) {
  .image-with-text .grid {
    margin-left: 0;
  }
}

/*
  Multirow
  note: consider removing from this stylesheet if multirow-specific styles increase signficantly
*/
.multirow {
  padding: 20px 0;
}

.multirow__inner {
  display: flex;
  flex-direction: column;
  row-gap: var(--grid-mobile-vertical-spacing);
}

@media screen and (min-width: 750px) {
  .multirow__inner {
    row-gap: var(--grid-desktop-vertical-spacing);
  }
}
